{"ast":null,"code":"const Layer = require('express/lib/router/layer');\nconst Router = require('express/lib/router');\nconst last = function () {\n  let arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return arr[arr.length - 1];\n};\nconst noop = Function.prototype;\nfunction copyFnProps(oldFn, newFn) {\n  Object.keys(oldFn).forEach(key => {\n    newFn[key] = oldFn[key];\n  });\n  return newFn;\n}\nfunction wrap(fn) {\n  const newFn = function newFn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    const ret = fn.apply(this, args);\n    const next = (args.length === 5 ? args[2] : last(args)) || noop;\n    if (ret && ret.catch) ret.catch(err => next(err));\n    return ret;\n  };\n  Object.defineProperty(newFn, 'length', {\n    value: fn.length,\n    writable: false\n  });\n  return copyFnProps(fn, newFn);\n}\nfunction patchRouterParam() {\n  const originalParam = Router.prototype.constructor.param;\n  Router.prototype.constructor.param = function param(name, fn) {\n    fn = wrap(fn);\n    return originalParam.call(this, name, fn);\n  };\n}\nObject.defineProperty(Layer.prototype, 'handle', {\n  enumerable: true,\n  get() {\n    return this.__handle;\n  },\n  set(fn) {\n    fn = wrap(fn);\n    this.__handle = fn;\n  }\n});\npatchRouterParam();","map":{"version":3,"names":["Layer","require","Router","last","arr","length","noop","Function","prototype","copyFnProps","oldFn","newFn","Object","keys","forEach","key","wrap","fn","args","ret","apply","next","catch","err","defineProperty","value","writable","patchRouterParam","originalParam","constructor","param","name","call","enumerable","get","__handle","set"],"sources":["C:/Users/aaron/OneDrive/Documents/GitHub/Fullstack/node_modules/express-async-errors/index.js"],"sourcesContent":["const Layer = require('express/lib/router/layer');\nconst Router = require('express/lib/router');\n\nconst last = (arr = []) => arr[arr.length - 1];\nconst noop = Function.prototype;\n\nfunction copyFnProps(oldFn, newFn) {\n  Object.keys(oldFn).forEach((key) => {\n    newFn[key] = oldFn[key];\n  });\n  return newFn;\n}\n\nfunction wrap(fn) {\n  const newFn = function newFn(...args) {\n    const ret = fn.apply(this, args);\n    const next = (args.length === 5 ? args[2] : last(args)) || noop;\n    if (ret && ret.catch) ret.catch(err => next(err));\n    return ret;\n  };\n  Object.defineProperty(newFn, 'length', {\n    value: fn.length,\n    writable: false,\n  });\n  return copyFnProps(fn, newFn);\n}\n\nfunction patchRouterParam() {\n  const originalParam = Router.prototype.constructor.param;\n  Router.prototype.constructor.param = function param(name, fn) {\n    fn = wrap(fn);\n    return originalParam.call(this, name, fn);\n  };\n}\n\nObject.defineProperty(Layer.prototype, 'handle', {\n  enumerable: true,\n  get() {\n    return this.__handle;\n  },\n  set(fn) {\n    fn = wrap(fn);\n    this.__handle = fn;\n  },\n});\n\npatchRouterParam();\n"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,0BAA0B,CAAC;AACjD,MAAMC,MAAM,GAAGD,OAAO,CAAC,oBAAoB,CAAC;AAE5C,MAAME,IAAI,GAAG;EAAA,IAACC,GAAG,uEAAG,EAAE;EAAA,OAAKA,GAAG,CAACA,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC;AAAA;AAC9C,MAAMC,IAAI,GAAGC,QAAQ,CAACC,SAAS;AAE/B,SAASC,WAAW,CAACC,KAAK,EAAEC,KAAK,EAAE;EACjCC,MAAM,CAACC,IAAI,CAACH,KAAK,CAAC,CAACI,OAAO,CAAEC,GAAG,IAAK;IAClCJ,KAAK,CAACI,GAAG,CAAC,GAAGL,KAAK,CAACK,GAAG,CAAC;EACzB,CAAC,CAAC;EACF,OAAOJ,KAAK;AACd;AAEA,SAASK,IAAI,CAACC,EAAE,EAAE;EAChB,MAAMN,KAAK,GAAG,SAASA,KAAK,GAAU;IAAA,kCAANO,IAAI;MAAJA,IAAI;IAAA;IAClC,MAAMC,GAAG,GAAGF,EAAE,CAACG,KAAK,CAAC,IAAI,EAAEF,IAAI,CAAC;IAChC,MAAMG,IAAI,GAAG,CAACH,IAAI,CAACb,MAAM,KAAK,CAAC,GAAGa,IAAI,CAAC,CAAC,CAAC,GAAGf,IAAI,CAACe,IAAI,CAAC,KAAKZ,IAAI;IAC/D,IAAIa,GAAG,IAAIA,GAAG,CAACG,KAAK,EAAEH,GAAG,CAACG,KAAK,CAACC,GAAG,IAAIF,IAAI,CAACE,GAAG,CAAC,CAAC;IACjD,OAAOJ,GAAG;EACZ,CAAC;EACDP,MAAM,CAACY,cAAc,CAACb,KAAK,EAAE,QAAQ,EAAE;IACrCc,KAAK,EAAER,EAAE,CAACZ,MAAM;IAChBqB,QAAQ,EAAE;EACZ,CAAC,CAAC;EACF,OAAOjB,WAAW,CAACQ,EAAE,EAAEN,KAAK,CAAC;AAC/B;AAEA,SAASgB,gBAAgB,GAAG;EAC1B,MAAMC,aAAa,GAAG1B,MAAM,CAACM,SAAS,CAACqB,WAAW,CAACC,KAAK;EACxD5B,MAAM,CAACM,SAAS,CAACqB,WAAW,CAACC,KAAK,GAAG,SAASA,KAAK,CAACC,IAAI,EAAEd,EAAE,EAAE;IAC5DA,EAAE,GAAGD,IAAI,CAACC,EAAE,CAAC;IACb,OAAOW,aAAa,CAACI,IAAI,CAAC,IAAI,EAAED,IAAI,EAAEd,EAAE,CAAC;EAC3C,CAAC;AACH;AAEAL,MAAM,CAACY,cAAc,CAACxB,KAAK,CAACQ,SAAS,EAAE,QAAQ,EAAE;EAC/CyB,UAAU,EAAE,IAAI;EAChBC,GAAG,GAAG;IACJ,OAAO,IAAI,CAACC,QAAQ;EACtB,CAAC;EACDC,GAAG,CAACnB,EAAE,EAAE;IACNA,EAAE,GAAGD,IAAI,CAACC,EAAE,CAAC;IACb,IAAI,CAACkB,QAAQ,GAAGlB,EAAE;EACpB;AACF,CAAC,CAAC;AAEFU,gBAAgB,EAAE"},"metadata":{},"sourceType":"script"}